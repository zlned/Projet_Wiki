<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="copyright" content="1998 by Jean-François Pillou">
<META NAME="ROBOTS" content="all">
<META NAME="author" content="Jean-François Pillou">
<META NAME="subject" content="L'assembleur">
<META NAME="topic" content="Pile assembleur">
<META NAME="rev" content="mailto:webmaster@commentcamarche.com">
<META NAME="keywords" content="Assembleur, assembleur, instruction, Instruction, instructions, Instructions, pile, Pile, piles, Piles, empilage, empilages, d&eacute;pilage, D&eacute;pilage">
<META NAME="title" content="L'assembleur - Notions de pile">
<title>Pile en assembleur</title>
<link rel="stylesheet" href="../ccm.css" type="text/css">

<link rel="alternate" type="application/rss+xml" title="CCM: Actualit&eacute; informatique" href="http://www.commentcamarche.net/rss/actualite.php3">
<link rel="alternate" type="application/rss+xml" title="CCM: Actualit&eacute;s du site CommentCaMarche.net" href="http://www.commentcamarche.net/rss/rss.php3">
</head>

<body>
<table class="ccmmain">
<tr>
<td height="1" width="170"><img src="../images/pixel_transparent.gif" height="1" width="100%" alt=""></td>
<td height="1" width="540"><img src="../images/pixel_transparent.gif" height="1" width="100%" alt=""></td>
<td height="1" width="12"><img src="../images/pixel_transparent.gif" height="1" width="100%" alt=""></td>
<td height="1" width="10"><img src="../images/pixel_transparent.gif" height="1" width="100%" alt=""></td>
</tr>

<tr>
<td colspan="2" bgcolor="#AEBFE2" style="vertical-align:top;text-align:left;height:46;background-color:#AEBFE2;">
<table border="0" cellspacing="0" cellpadding="0">
    <tr>
    <td style="vertical-align:top;"><a href="../index.htm" target="_top"><img src="../images/logotop.png" border="0" width="328" height="42" title="Comment Ca Marche - Communaut&eacute; informatique" alt="Comment Ca Marche - Communaut&eacute; informatique"></a></td>
    <td style="width:30px">&nbsp;</td>
    <td style="vertical-align:middle;text-align:left"></td></tr>
</table>
</td>
<td style="background-color: #AEBFE2; vertical-align:bottom;">&nbsp;</td>
<td style="background-color: #AEBFE2;">&nbsp;</td>
</tr>

<tr>
<td bgcolor="#8EA6D6"><div id="ccmicons"><a href="../index.htm"  ><img src="../images/icohome2.gif" name="icohome" alt="Accueil - Encyclop&eacute;die informatique" title="Accueil - Encyclop&eacute;die informatique" width="24" border="0"></a><a href="http://www.commentcamarche.net/encyclopedie"  ><img src="../images/icozip2.gif" name="icozip" alt="T&eacute;l&eacute;charger l'encyclop&eacute;die" title="T&eacute;l&eacute;charger l'encyclop&eacute;die" width="24" border="0"></a><a href="http://www.commentcamarche.net/ccmbugs/?Bug_url=%2Fasm%2Fpile.php3#ecrire"  ><img src="../images/icowri2.gif" name="icowri" alt="Contribuer &agrave; cet article" width="24" border="0"></a><a href="http://www.commentcamarche.net/contact/"  ><img src="../images/icomail2.gif" name="icomail" alt="" title="Ecrire &agrave; Jean-Francois Pillou" width="24"  border="0"></a></div></td>
<td colspan="3" bgcolor="#8EA6D6"></td>
</tr>

<tr>
<td height="1"><img src="../images/pixel_white.png" height="1" width="100%" alt=""></td>
<td height="1"><img src="../images/pixel_white.png" height="1" width="100%" alt=""></td>
<td height="1" rowspan="2"><img src="../images/pixel_white.png" height="1" width="12" alt=""></td>

<td bgcolor="#FFFFFF" height="100%" valign="top" rowspan="2">
</td>
</tr>

<tr><td valign="top" colspan="3"><div id="contenu"><h1> L'assembleur - Notions de pile</h1><table border="0" cellpadding="0" cellspacing="0" width="722">
	<tr>
		<td><img src="images/pile.gif" alt="Pile"></td>
		<td valign="top" width="38"><a href="saut.htm"><img src="../images/bckward.gif" border="0" width="38" height="63" alt=""></a></td>
				<td valign="top" width="63"><a href="../index.htm"><img src="../images/logoPClw.gif" alt="Encyclopédie" height="60" width="63" border="0"></a></td>
		</tr>
</table>
<br><div id="CCMmenu">
<table width="156">
<tr><th>Assembleur</th></tr>
<tr><td><a class="mlink" href="assembleur.htm" >Assembleur</a></td></tr>
<tr><td><a class="mlink" href="source.htm" >Compilation</a></td></tr>
<tr><td><a class="mlink" href="instruction.htm" >Instructions</a></td></tr>
<tr><td><a class="mlink" href="adressage.htm" >Adressage</a></td></tr>
<tr><td><a class="mlink" href="logique.htm" >Instructions arithm&eacute;tiques et logiques</a></td></tr>
<tr><td><a class="mlink" href="affectation.htm" >Affectation</a></td></tr>
<tr><td><a class="mlink" href="saut.htm" >Branchements</a></td></tr>
<tr><td><a class="mlink" href="pile.htm" >Pile</a></td></tr>
<tr><td><a class="mlink" href="procedure.htm" >Proc&eacute;dures</a></td></tr>
<tr><td><a class="mlink" href="segmentation.htm" >Segmentation de la m&eacute;moire</a></td></tr>
<tr><td><a class="mlink" href="liste.htm" >Liste des principales instructions</a></td></tr>
<tr><th><span class="rouge">A lire aussi</span></th></tr>
<tr><td><a class="mlink" href="http://www.commentcamarche.net/faq/1-langages">FAQ langages</a></td></tr>
<tr><td><a class="mlink" href="http://www.commentcamarche.net/faq/2-programmation">FAQ programmation</a></td></tr>
</table></div><hr>

<a name="presentation" class="ancre"></a><h2>Utilit&eacute; d'une pile</h2>

<p align="justify">Une pile est une zone de m&eacute;moire dans laquelle on peut stocker temporairement des registres.
Il s'agit d'un moyen d'acc&eacute;der &agrave; des donn&eacute;es en les empilant, telle une pile
de livres, puis en les d&eacute;pilant pour les utiliser. Ainsi il est n&eacute;cessaire de d&eacute;piler
les valeurs stock&eacute;es au sommet (les derni&egrave;res &agrave; avoir &eacute;t&eacute; stock&eacute;es)
pour pouvoir acc&eacute;der aux valeurs situ&eacute;es &agrave; la base de la pile.

<p align="justify">En r&eacute;alit&eacute; il s'agit d'une zone de m&eacute;moire et d'un pointeur qui permettent de rep&eacute;rer
le sommet de la pile.
<br/>La pile est de type LIFO (Last In First Out), c'est-&agrave;-dire que la premi&egrave;re valeur empil&eacute;e
sera la derni&egrave;re sortie. (Si vous empilez des livres, il vous faudra les d&eacute;piler en commen&ccedil;ant
par enlever les livres du dessus. Le premier livre empil&eacute; sera donc le dernier sorti !)

<a name="pushpop" class="ancre"></a><h2>Les instructions PUSH et POP</h2>

<p align="justify">Les instructions PUSH et POP sont les instructions qui servent &agrave; empiler et d&eacute;piler
les donn&eacute;es.

<p align="justify">PUSH <i>registre</i>
met le contenu du registre dans la pile (empilement).

<p align="justify">POP <i>registre</i>
r&eacute;cup&egrave;re le contenu de la pile et le stocke dans le registre (d&eacute;pilage).

<p align="justify">Ainsi, l'instruction <i>PUSH BX</i> empile le contenu du registre BX, et l'instruction <i>POP AX</i>
r&eacute;cup&egrave;re le contenu du sommet de la pile et le transf&egrave;re dans AX.

<a name="exemple" class="ancre"></a><h2>Utilisation de la pile sur un exemple</h2>

<p align="justify">Dans l'exemple suivant, que l'on imaginera au milieu d'un programme, on stocke les valeurs
contenues dans AX et BX pour pouvoir utiliser ces deux registres, puis une fois l'op&eacute;ration
accomplie on remet les valeurs qu'ils contenaient pr&eacute;c&eacute;demment...

<pre class="Code">PUSH AX
PUSH BX
MOV AX, [0140]
ADD BX, AX
MOV [0140], BX
POP BX
POP AX</pre>

<a name="registreSS" class="ancre"></a><h2>Les registres SS et SP</h2>

<p align="justify">Les registres SS et SP sont deux registres servant &agrave; g&eacute;rer la pile&nbsp;:
<ul>
<li>SS (<i>Stack Segment</i>, dont la traduction est <i>segment de pile</i>) est un registre 16 bits contenant
l'adresse du segment de pile courant. Il doit &ecirc;tre initialis&eacute; au d&eacute;but du programme.</li>
<li>SP (<i>Stack Pointer</i>, litt&eacute;ralement <i>pointeur de pile</i>) est le d&eacute;placement pour atteindre
le sommet de la pile (16 bits de poids faible).</li>
</ul>


<p align="justify">SP pointe vers le sommet, c'est-&agrave;-dire sur le dernier bloc occup&eacute; de la pile.
Lorsque l'on ajoute un &eacute;l&eacute;ment &agrave; la pile, l'adresse contenue dans SP est
d&eacute;cr&eacute;ment&eacute;e de 2 octets (car un emplacement de la pile fait 16 bits de longueur).
En effet, lorsque l'on parcourt la pile de la base vers le sommet, les adresses d&eacute;croissent.
<br/>Par contre l'instruction POP incr&eacute;mente de 2 octets (16 bits) la valeur de SP.
<ul>
<li><b>PUSH</b> : SP &lt;- SP - 2</li>
<li><b>POP</b> : SP &lt;- SP + 2 </li>
</ul>

<p align="justify">Ainsi, lorsque la pile est vide SP pointe sous la pile (la case m&eacute;moire en dessous de la base de la pile)
car il n'y a pas de case occup&eacute;e.
Un POP provoquera alors une erreur...

<a name="declarer" class="ancre"></a><h2>D&eacute;clarer une pile</h2>

<p align="justify">Pour pouvoir utiliser une pile, il faut la d&eacute;clarer, c'est-&agrave;-dire r&eacute;server
un espace m&eacute;moire pour son utilisation, puis initialiser les registres avec les valeurs
correspondant &agrave; la base de la pile, ainsi que son sommet (rappel : situ&eacute; sous la
pile lorsque celle-ci est vide).

<p align="justify">Ainsi pour d&eacute;finir une pile il s'agit tout d'abord de la d&eacute;clarer gr&acirc;ce
&agrave; la directive SEGMENT stack.

<p align="justify">Suite aux déclarations, il faut &eacute;crire une séquence d'initialisation&nbsp;:

<pre class="Code">ASSUME SS:segment_pile

MOV  AX, segment_pile
MOV  SS, AX		; initialise le segment de pile
MOV  SP, base_pile ; copie l'adresse de la base de la pile dans SP</pre>


<p align="justify">Il n'est pas possible de faire directement <i>MOV SS, segment_pile</i> car cette instruction n'existe pas !

<h2 id="sujets_sim">Trucs & astuces pertinents trouv&eacute;s dans la base de connaissances</h2><table class="simili"><tr class="sb">
<td style="width:75px"><span class="">09/08&nbsp;10h14</span></td><td valign="middle"><a href="http://www.commentcamarche.net/faq/sujet-387-carte-mere-changer-la-pile-de-la-carte-mere"><img src="../images/carre.gif" border="0" alt=""></a>&nbsp;<a href="http://www.commentcamarche.net/faq/sujet-387-carte-mere-changer-la-pile-de-la-carte-mere">Changer la pile de la carte mère</a> (<a href="http://www.commentcamarche.net/faq/333-carte-mere">Carte-mère</a>)</td>

</tr>
<tr class="sa"><td colspan="3" style="text-align:right"><img src="../images/plus.png" alt="Pile assembleur" border="0"> Plus d'astuces sur &laquo;&nbsp;<a href="../astuces/pile-assembleur"><b>Pile assembleur</b></a>&nbsp;&raquo;</td></tr></table><h2 id="discus_sim">Discussions pertinentes trouv&eacute;es dans le forum</h2><table class="simili"><tr class="sb">
<td><span class="Dategris">03/01&nbsp;18h03</span></td>
<td style="vertical-align:middle"><a href="http://www.commentcamarche.net/forum/affich-1212863-assembleur-pile#2005-01-06%2021%3A25%3A59"><img src="../images/carre.gif" border="0" alt="assembleur pile"></a><a href="http://www.commentcamarche.net/forum/affich-1212863-assembleur-pile">&nbsp;Assembleur Pile</a></td>
<td><a href="http://www.commentcamarche.net/forum/forum-3-developpement">D&eacute;veloppement</a></td>
<td><span class="Date">06/01&nbsp;21h25</span><span class="Date">-&gt;</span><a class="mlink2" href="http://www.commentcamarche.net/forum/affich-1212863-assembleur-pile#2005-01-06%2021%3A25%3A59">sam3000</a></td><td style="text-align:center"><span class="Texte">20</span></td>
</tr>
<tr class="sa">
<td><span class="Dategris">13/01&nbsp;20h19</span></td>
<td style="vertical-align:middle"><a href="http://www.commentcamarche.net/forum/affich-1235878-assembleur-adresse-de-base-de-la-pile#2005-01-13%2020%3A19%3A39"><img src="../images/carregold.png" border="0" alt="assembleur adresse base pile"></a><a href="http://www.commentcamarche.net/forum/affich-1235878-assembleur-adresse-de-base-de-la-pile">&nbsp;[Assembleur]  adresse de base de la pile</a></td>
<td><a href="http://www.commentcamarche.net/forum/forum-3-developpement">D&eacute;veloppement</a></td>
<td><span class="Date">13/01&nbsp;20h19</span><span class="Date">-&gt;</span><a class="Date" href="http://www.commentcamarche.net/forum/affich-1235878-assembleur-adresse-de-base-de-la-pile#2005-01-13%2020%3A19%3A39">iNDi</a></td><td style="text-align:center"><span class="ForumRed">0</span></td>
</tr>
<tr class="sb">
<td><span class="Dategris">16/04&nbsp;23h02</span></td>
<td style="vertical-align:middle"><a href="http://www.commentcamarche.net/forum/affich-1446898-qui-a-des-exercices-sur-assembleur-ou-pile#2005-04-16%2023%3A02%3A42"><img src="../images/carregold.png" border="0" alt="exercices assembleur pile"></a><a href="http://www.commentcamarche.net/forum/affich-1446898-qui-a-des-exercices-sur-assembleur-ou-pile">&nbsp;qui a des exercices sur assembleur ou pile</a></td>
<td><a href="http://www.commentcamarche.net/forum/forum-11-windows">Windows</a></td>
<td><span class="Date">16/04&nbsp;23h02</span><span class="Date">-&gt;</span><a class="Date" href="http://www.commentcamarche.net/forum/affich-1446898-qui-a-des-exercices-sur-assembleur-ou-pile#2005-04-16%2023%3A02%3A42">inconnue</a></td><td style="text-align:center"><span class="ForumRed">0</span></td>
</tr>
<tr class="sa">
<td><span class="Dategris">06/12&nbsp;13h20</span></td>
<td style="vertical-align:middle"><a href="http://www.commentcamarche.net/forum/affich-1961548-pb-de-pile-rechageable-qui-dure-pas-logngtps#2006-07-22%2007%3A55%3A09"><img src="../images/carrevalid.png" border="0" alt="pile rechageable dure logngtps"></a><a href="http://www.commentcamarche.net/forum/affich-1961548-pb-de-pile-rechageable-qui-dure-pas-logngtps">&nbsp;pb de pile rechageable qui dure pas logngtps</a></td>
<td><a href="http://www.commentcamarche.net/forum/forum-11-windows">Windows</a></td>
<td><span class="Date">22/07&nbsp;07h55</span><span class="Date">-&gt;</span><a class="mlink2" href="http://www.commentcamarche.net/forum/affich-1961548-pb-de-pile-rechageable-qui-dure-pas-logngtps#2006-07-22%2007%3A55%3A09">clolotte42</a></td><td style="text-align:center"><span class="Texte">23</span></td>
</tr>
<tr class="sb">
<td><span class="Date">16/12&nbsp;12h01</span></td>
<td style="vertical-align:middle"><a href="http://www.commentcamarche.net/forum/affich-2531838-ou-est-la-pile-dans-le-neo-simply-key-1go#2007-01-06%2020%3A21%3A22"><img src="../images/carrevalid.png" border="0" alt="pile neo simply key 1go"></a><a href="http://www.commentcamarche.net/forum/affich-2531838-ou-est-la-pile-dans-le-neo-simply-key-1go">&nbsp;ou est la pile dans le neo simply key 1go?</a></td>
<td><a href="http://www.commentcamarche.net/forum/forum-20-audio-numerique">Audio num&eacute;rique</a></td>
<td><span class="Date">06/01&nbsp;20h21</span><span class="Date">-&gt;</span><a class="Date" href="http://www.commentcamarche.net/forum/affich-2531838-ou-est-la-pile-dans-le-neo-simply-key-1go#2007-01-06%2020%3A21%3A22">Elodie</a></td><td style="text-align:center"><span class="Texte">16</span></td>
</tr>
<tr class="sa">
<td><span class="Date">01/11&nbsp;10h38</span></td>
<td style="vertical-align:middle"><a href="http://www.commentcamarche.net/forum/affich-2450909-nouveau-pc-via-un-assembleur-bug-ecran-bleu#2007-02-22%2011%3A21%3A21"><img src="../images/carrevalid.png" border="0" alt="nouveau pc via assembleur écran bleu"></a><a href="http://www.commentcamarche.net/forum/affich-2450909-nouveau-pc-via-un-assembleur-bug-ecran-bleu">&nbsp;nouveau PC via un assembleur : bug écran bleu</a></td>
<td><a href="http://www.commentcamarche.net/forum/forum-2-materiel-hardware">Matériel (hardware)</a></td>
<td><span class="Datered">22/02&nbsp;11h21</span><span class="Date">-&gt;</span><a class="mlink2" href="http://www.commentcamarche.net/forum/affich-2450909-nouveau-pc-via-un-assembleur-bug-ecran-bleu#2007-02-22%2011%3A21%3A21">pakistador</a></td><td style="text-align:center"><span class="Texte">13</span></td>
</tr>
<tr class="sb">
<td><span class="Dategris">27/11&nbsp;16h09</span></td>
<td style="vertical-align:middle"><a href="http://www.commentcamarche.net/forum/affich-1943122-une-pile-sur-carte-mere#2005-11-28%2018%3A27%3A43"><img src="../images/carrevalid.png" border="0" alt="pile carte mere"></a><a href="http://www.commentcamarche.net/forum/affich-1943122-une-pile-sur-carte-mere">&nbsp;une pile sur carte mere!!!</a></td>
<td><a href="http://www.commentcamarche.net/forum/forum-2-materiel-hardware">Matériel (hardware)</a></td>
<td><span class="Date">28/11&nbsp;18h27</span><span class="Date">-&gt;</span><a class="mlink2" href="http://www.commentcamarche.net/forum/affich-1943122-une-pile-sur-carte-mere#2005-11-28%2018%3A27%3A43">rendservice</a></td><td style="text-align:center"><span class="Texte">12</span></td>
</tr>
<tr class="sa">
<td><span class="Dategris">29/07&nbsp;10h08</span></td>
<td style="vertical-align:middle"><a href="http://www.commentcamarche.net/forum/affich-1702187-lecteur-mp3-zicplay-recharger-la-pile#2007-02-11%2021%3A23%3A38"><img src="../images/carrevalid.png" border="0" alt="lecteur mp3 zicplay recharger pile"></a><a href="http://www.commentcamarche.net/forum/affich-1702187-lecteur-mp3-zicplay-recharger-la-pile">&nbsp;[lecteur mp3 zicplay] - Recharger la pile</a></td>
<td><a href="http://www.commentcamarche.net/forum/forum-20-audio-numerique">Audio num&eacute;rique</a></td>
<td><span class="Date">11/02&nbsp;21h23</span><span class="Date">-&gt;</span><a class="Date" href="http://www.commentcamarche.net/forum/affich-1702187-lecteur-mp3-zicplay-recharger-la-pile#2007-02-11%2021%3A23%3A38">Floch</a></td><td style="text-align:center"><span class="Texte">11</span></td>
</tr>
<tr class="sb">
<td><span class="Dategris">08/11&nbsp;14h09</span></td>
<td style="vertical-align:middle"><a href="http://www.commentcamarche.net/forum/affich-472661-faire-un-prog-en-assembleur#2007-01-25%2013%3A28%3A05"><img src="../images/carrevalid.png" border="0" alt="prog assembleur"></a><a href="http://www.commentcamarche.net/forum/affich-472661-faire-un-prog-en-assembleur">&nbsp;faire un prog en assembleur</a></td>
<td><a href="http://www.commentcamarche.net/forum/forum-3-developpement">D&eacute;veloppement</a></td>
<td><span class="Date">25/01&nbsp;13h28</span><span class="Date">-&gt;</span><a class="Date" href="http://www.commentcamarche.net/forum/affich-472661-faire-un-prog-en-assembleur#2007-01-25%2013%3A28%3A05">mina</a></td><td style="text-align:center"><span class="Texte">11</span></td>
</tr>
<tr class="sa">
<td><span class="Dategris">26/09&nbsp;18h51</span></td>
<td style="vertical-align:middle"><a href="http://www.commentcamarche.net/forum/affich-1818765-changement-pile-setup#2005-10-06%2009%3A48%3A23"><img src="../images/carrevalid.png" border="0" alt="changement pile setup"></a><a href="http://www.commentcamarche.net/forum/affich-1818765-changement-pile-setup">&nbsp;[CHANGEMENT PILE SETUP ]</a></td>
<td><a href="http://www.commentcamarche.net/forum/forum-14-macos">MacOS</a></td>
<td><span class="Date">06/10&nbsp;09h48</span><span class="Date">-&gt;</span><a class="mlink2" href="http://www.commentcamarche.net/forum/affich-1818765-changement-pile-setup#2005-10-06%2009%3A48%3A23">j.m.theuillon</a></td><td style="text-align:center"><span class="Texte">6</span></td>
</tr>
	<tr class="sa">
	<td colspan="2"><span class="Texte"><img src="../images/carreblock.gif" width="12" alt="" title="Discussion ferm&eacute;e">Discussion ferm&eacute;e
    <img src="../images/carrevalid.png" width="12" alt="" title="Probl&egrave;me r&eacute;solu">Probl&egrave;me r&eacute;solu</span></td>
	<td style="vertical-align:top;text-align:right;" colspan="3"><img src="../images/plus.png" alt="Pile assembleur" border="0"> Plus de discussions sur &laquo;&nbsp;<a href="http://www.commentcamarche.net/f/pile-assembleur"><b>Pile assembleur</b></a>&nbsp;&raquo;</td></tr></table>
<br><span class="Footer">Ce document intitul&eacute; &laquo;&nbsp;<a href="http://www.commentcamarche.net/asm/pile.php3">L'assembleur - Notions de pile</a>&nbsp;&raquo; issu de l'<a href="http://www.commentcamarche.net/encyclopedie/">encyclop&eacute;die</a> <a href="http://www.commentcamarche.net/informatique/informatique.php3">informatique</a> <a href="http://www.commentcamarche.net">Comment &Ccedil;a Marche</a> (<a href="http://www.commentcamarche.net/">www.commentcamarche.net</a>) est mis &agrave; disposition sous les termes de la licence <a href="../ccmguide/ccmlicence.htm">Creative Commons</a>.
Vous pouvez copier, modifier des copies de cette page, dans les conditions fix&eacute;es par la licence, tant que cette note appara&icirc;t clairement.</span>
<br>&nbsp;
<center><a href="saut.htm"><img src="../images/bckward.gif" border="0" width="38" height="63" alt=""></a>
</center>
</div>

</td>
</tr>

<tr><th colspan="4" style="background-color:#CED7F6">&nbsp;</th></tr>
</table>
<div id="footer"><br><a href="../ccmguide/ccmintro.htm"><b>A propos</b></a> | <a href="../ccmguide/cgu-conditions-generales.htm"><b>Conditions g&eacute;n&eacute;rales</b></a>  | &copy; Tous droits r&eacute;serv&eacute;s 2007 <a href="http://www.commentcamarche.net">Quidéa</a>
</div>
</body>
</html>